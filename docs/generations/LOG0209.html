<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>LOG0209 Create Warehouse Requisitions for further execution (manual generation only) | ERP.net Domain Model </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="LOG0209 Create Warehouse Requisitions for further execution (manual generation only) | ERP.net Domain Model ">
      
      
      <link rel="icon" href="../favicon.ico">
      <link rel="stylesheet" href="../public/docfx.min.css">
      <link rel="stylesheet" href="../public/main.css">
      <meta name="docfx:navrel" content="../toc.html">
      <meta name="docfx:tocrel" content="../toc.html">
      
      <meta name="docfx:rel" content="../">
      
      
      <meta name="docfx:docurl" content="https://github.com/ErpNetDocs/model/blob/master/generations/LOG0209.md/#L1">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../index.html">
            <img id="logo" class="svg" src="../logo.svg" alt="">
            
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled="" placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">

      <div class="content">
        <div class="actionbar">

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="LOG0209">
<h1 id="log0209-create-warehouse-requisitions-for-further-execution-manual-generation-only">LOG0209 Create Warehouse Requisitions for further execution (manual generation only)</h1>

<p>Basic Information</p>
<table>
<thead>
<tr>
<th style="text-align: left;">Module</th>
<th>Logistics.Inventory</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">Code</td>
<td>LOG0209</td>
</tr>
<tr>
<td style="text-align: left;">Parent Document</td>
<td>Store Order</td>
</tr>
<tr>
<td style="text-align: left;">Sub-document</td>
<td>Warehouse Requisition</td>
</tr>
<tr>
<td style="text-align: left;">Full Name</td>
<td>Create Warehouse Requisitions for further execution (manual generation only)</td>
</tr>
<tr>
<td style="text-align: left;">Status</td>
<td><a class="xref" href="https://erpnetdocs.github.io/tech/advanced/document-flow/generation-procedures.html">NEW</a></td>
</tr>
<tr>
<td style="text-align: left;">Deterministic</td>
<td><a class="xref" href="https://erpnetdocs.github.io/tech/advanced/document-flow/deterministic-generations.html">YES</a></td>
</tr>
<tr>
<td style="text-align: left;">Supports Transitional Documents</td>
<td><a class="xref" href="https://erpnetdocs.github.io/tech/advanced/document-flow/transitional-documents.html">NO</a></td>
</tr>
<tr>
<td style="text-align: left;">Supports Single Execution</td>
<td>No</td>
</tr>
<tr>
<td style="text-align: left;">Replaces</td>
<td>-</td>
</tr>
<tr>
<td style="text-align: left;">Orphan Rows</td>
<td>Ignore</td>
</tr>
<tr>
<td style="text-align: left;">Split Function</td>
<td>-</td>
</tr>
<tr>
<td style="text-align: left;">Version</td>
<td>Introduced: 2024.1</td>
</tr>
<tr>
<td style="text-align: left;">Date of Suspension</td>
<td>-</td>
</tr>
</tbody>
</table>
<h2 id="business-logic">Business Logic</h2>
<p>This Generation is used to create Warehouse Requisitions from Store Orders for further execution.</p>
<p>This generation is intended to operate only in manual mode, where a responsible person assesses whether and when it is necessary to complete a previously incomplete Store Order.</p>
<div class="IMPORTANT">
<h5>Important</h5>
<p>The generation procedure is <strong>Manual Only</strong>. That means you have to select <strong>Allowed Generation Types = Manually</strong>!!! <br>
Do not set Allowed Generation Types = Auto or Allowed Generation Types = Both (Auto and Manually)!!!</p>
</div>
<p><br><br></p>
<p><strong>The Warehouse Requisition’s header is created based on the Store Order’s header as follows:</strong></p>
<pre><code>WarehouseRequisition.DocumentDate = StoreOrder.DocumentDate

WarehouseRequisition.ManagedWarehouse = StoreOrder.Store.ManagedWarehouse

WarehouseRequisition.RequisitionType = if( StoreOrder.MovementType = Receipt) 

                                   , then Transaction.RequisitionType = Inbound

                                   , else Transaction.RequisitionType = Outbound

WarehouseRequisition.ExpectedDate = ISNULL(StoreOrder.PlannedReleaseDate, StoreOrder.DocumentDate)

WarehouseRequisition.ExpectedTime = null
</code></pre>
<div class="NOTE">
<h5>Note</h5>
<p>The attributes which are not specified here are filled in as described in <strong><a href="../reference/standard-document-attributes.html">Standard Document Attributes</a></strong></p>
</div>
<p><strong>If StoreOrder.Store.ManagedWarehouse = NULL, throw an error:</strong></p>
<pre><code>No Managed Warehouse is specified for store '{Store.StoreName}'.
Please check if the store is correct and if the field 'Managed Warehouse' in its definition has a value.
</code></pre>
<div class="NOTE">
<h5>Note</h5>
<p>The new Warehouse Requisition is saved then and only when there is at least one line in it.</p>
</div>
<h2 id="fulfillments">Fulfillments</h2>
<table>
<thead>
<tr>
<th style="text-align: left;">Fulfilment Name</th>
<th>StoreOrderLineToWarehouseRequisitionLine</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">Fulfilment Tracking Type</td>
<td>Fulfilment Table</td>
</tr>
<tr>
<td style="text-align: left;">Parent</td>
<td>StoreOrderLine</td>
</tr>
<tr>
<td style="text-align: left;">Child</td>
<td>DocumentFulfillments(where 'DocumentLineId = StoreOrderLineId' AND  'FulfillmentType = Completed' AND 'DestinationEntityName =  Wms_Warehouse_Requisition_Lines')</td>
</tr>
<tr>
<td style="text-align: left;">Parent/ Child Relationship</td>
<td>StoreOrderLine = ChildDocumentFulfillment</td>
</tr>
</tbody>
</table>
<h2 id="metrics"><a href="../reference/metrics.html">Metrics</a></h2>
<table>
<thead>
<tr>
<th style="text-align: left;">Fulfilment Name</th>
<th style="text-align: center;">Metric Name</th>
<th style="text-align: center;">Measurement Unit</th>
<th style="text-align: left;">Parent Value</th>
<th style="text-align: left;">Fulfilment Table Value</th>
<th style="text-align: left;">New Record</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">StoreOrderLineToWarehouseRequisitionLine</td>
<td style="text-align: center;">MQuantityBase</td>
<td style="text-align: center;">StoreOrderLine.Product.BaseMeasurementUnit</td>
<td style="text-align: left;">StoreOrderLine.QuantityBase</td>
<td style="text-align: left;">DocumentFulfillment.QuantityBase</td>
<td style="text-align: left;">NO</td>
</tr>
<tr>
<td style="text-align: left;">StoreOrderLineToWarehouseRequisitionLine</td>
<td style="text-align: center;">MStandardQuantity</td>
<td style="text-align: center;">StoreOrderLine.Product.BaseMeasurementUnit</td>
<td style="text-align: left;">StoreOrderLine.StandardQuantityBase</td>
<td style="text-align: left;">DocumentFulfillment.StandardQuantity</td>
<td style="text-align: left;">YES</td>
</tr>
</tbody>
</table>
<p><br><br>
The lines of the new document are created based on the data of StoreOrderLine AND the Fulfilled Part of quantities by the Warehouse Requisitions which have already been Completed.
The generation creates a new line only if the remaining quantity is more than zero.</p>
<p>StoreOrder.StandardQuantity - ChildDocumentFulfillment.StandardQuantity</p>
<div class="NOTE">
<h5>Note</h5>
<p>Note that for the calculation of the Fulfilled Part are taken into account only the records whose Fulfillment Type is Completed.</p>
</div>
<div class="IMPORTANT">
<h5>Important</h5>
<p>The generation will not create a new line if the remaining quantity that needs to be fulfilled is a negative number or zero (if StoreOrderLine.REMAINING(MStandardQuantity) &lt;= 0).</p>
</div>
<br>
<p><strong>The new Warehouse Requisition Line is created as follows:</strong></p>
<pre><code>WarehouseRequisitionLine.LineNo = Autonumber(10, 20 ...)

WarehouseRequisitionLine.Product = StoreOrderLine.Product

WarehouseRequisitionLine.Lot = StoreOrderLine.Lot

WarehouseRequisitionLine.SerialNumber = StoreOrderLine.SerialNumber

WarehouseRequisitionLine.ProductVariant = StoreOrderLine.ProductVariant

WarehouseRequisitionLine.QuantityBase = StoreOrderLine.REMAINING(MQuantityBase)

WarehouseRequisitionLine.StandardQuantity = StoreOrderLine.REMAINING(MStandardQuantity)

WarehouseRequisitionLine.QuantityUnit = StoreOrderLine.QuantityUnit

WarehouseRequisitionLine.Quantity = If there are no records in the Document Fulfillment table for the current StoreOrderLine

                                , then WarehouseRequisitionLine.Quantity = StoreOrderLine.Quantity

                                , else CONVERT(WarehouseRequisitionLine.StandardQuantity, WarehouseRequisitionLine.QuantityUnit)

WarehouseRequisitionLine.Notes = StoreOrderLine.Notes

WarehouseRequisitionLine.ParentDocument = StoreOrder

WarehouseRequisitionLine.ParentLineNo = StoreOrderLine.LineNo
</code></pre>
<br> 
After the line is created, the generation should NOT create records for Document Fulfillment table. This is because the generation is only for further execution, and the planned part won't change.

</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/ErpNetDocs/model/blob/master/generations/LOG0209.md/#L1" class="edit-link">Suggest improvement to this page</a>
        </div>

        <div class="next-article d-print-none border-top" id="nextArticle"></div>

      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          <span>Made with <a href="https://dotnet.github.io/docfx">docfx</a></span>
        </div>
      </div>
    </footer>
  </body>
</html>
